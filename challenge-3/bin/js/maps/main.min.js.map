{"version":3,"sources":["main.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","todoModule","angular","Item","title","this","complete","FilterValue","ALL","ACTIVE","COMPLETE","filterFunctions","Map","item","TodoController","value","constructor","items","filter","get","itemToAdd","push","controller","directive","scope","element","attrs","bind","event","which","$apply","$eval","onEnterKey","preventDefault"],"mappings":"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","file":"../main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar todoModule = angular.module('todo', []);\n\n/**\r\n * Models a to-do list item.\r\n */\n\nvar Item =\n/**\r\n * @param {string} title Title for the to-do item.\r\n */\nfunction Item(title) {\n    _classCallCheck(this, Item);\n\n    this.title = title;\n    this.complete = false;\n};\n\n/** @enum {string} Magic filter values. */\n\n\nvar FilterValue = {\n    ALL: 'all',\n    ACTIVE: 'active',\n    COMPLETE: 'complete'\n};\n\n/**\r\n * Maps filter types to filter functions.\r\n * @const {Map<FilterValue, function(Array<Item>): Array<Item>>}\r\n */\nvar filterFunctions = new Map([[FilterValue.ALL, function (item) {\n    return true;\n}], [FilterValue.ACTIVE, function (item) {\n    return !item.complete;\n}], [FilterValue.COMPLETE, function (item) {\n    return item.complete;\n}]]);\n\nvar TodoController = function () {\n    function TodoController() {\n        _classCallCheck(this, TodoController);\n    }\n\n    _createClass(TodoController, [{\n        key: 'getClass',\n\n\n        /**\r\n         * Return the class of this instance, to be used to call static methods.\r\n         * @returns {TodoController} The class this is an instance of.\r\n         * @export\r\n         */\n        value: function getClass() {\n            return this.constructor;\n        }\n    }], [{\n        key: 'getFilteredItems',\n\n        /**\r\n         * @returns {Array<Item>} Items that pass the currently set filter.\r\n         * @export\r\n         */\n        value: function getFilteredItems(items, filter) {\n            return items.filter(filterFunctions.get(filter));\n        }\n\n        /**\r\n         * @returns {string} The enum value for filtering to show all items.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'getAllFilterValue',\n        value: function getAllFilterValue() {\n            return FilterValue.ALL;\n        }\n\n        /**\r\n         * @returns {string} The enum value for filtering to show active items.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'getActiveFilterValue',\n        value: function getActiveFilterValue() {\n            return FilterValue.ACTIVE;\n        }\n\n        /**\r\n         * @returns {string} The enum value for filtering to show complete items.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'getCompleteFilterValue',\n        value: function getCompleteFilterValue() {\n            return FilterValue.COMPLETE;\n        }\n\n        /**\r\n         * Returns the items that are still in an active state.\r\n         * @param {Array<Item>} items Items in the list to filter.\r\n         * @returns {Array<Item>} Items in the given list that are still active.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'getActiveItems',\n        value: function getActiveItems(items) {\n            return items.filter(filterFunctions.get(FilterValue.ACTIVE));\n        }\n\n        /**\r\n         * Returns the items that are still in a complete state.\r\n         * @param {Array<Item>} items Items in the list to filter.\r\n         * @returns {Array<Item>} Items in the given list that are complete.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'getCompleteItems',\n        value: function getCompleteItems(items) {\n            return items.filter(filterFunctions.get(FilterValue.COMPLETE));\n        }\n\n        /**\r\n         * Creates a new item with the given title and adds it to the list.\r\n         * Discards empty items\r\n         * @param {string} itemToAdd Title to use when creating the new item.\r\n         * @param {Array<Item>} items List of items to add the new item to.\r\n         * @export\r\n         */\n\n    }, {\n        key: 'addItem',\n        value: function addItem(itemToAdd, items) {\n            if (!itemToAdd) {\n                return;\n            }\n            items.push(new Item(itemToAdd));\n        }\n    }]);\n\n    return TodoController;\n}();\n\ntodoModule.controller('todoController', [TodoController]);\n\n// Quick enter key directive pulled from StackOverflow renamed and reformatted\ntodoModule.directive('onEnterKey', function () {\n    return function (scope, element, attrs) {\n        element.bind('keydown keypress', function (event) {\n            if (event.which !== 13) {\n                return;\n            }\n            scope.$apply(function () {\n                scope.$eval(attrs.onEnterKey);\n            });\n            event.preventDefault();\n        });\n    };\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxtYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsSUFBSSxhQUFhLFFBQVEsTUFBUixDQUFlLE1BQWYsRUFBdUIsRUFBdkIsQ0FBakI7O0FBRUE7Ozs7SUFHTSxJO0FBQ0Y7OztBQUdBLGNBQVksS0FBWixFQUFtQjtBQUFBOztBQUNmLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsS0FBaEI7QUFDSCxDOztBQUdMOzs7QUFDQSxJQUFNLGNBQWM7QUFDaEIsU0FBSyxLQURXO0FBRWhCLFlBQVEsUUFGUTtBQUdoQixjQUFVO0FBSE0sQ0FBcEI7O0FBTUE7Ozs7QUFJQSxJQUFNLGtCQUFrQixJQUFJLEdBQUosQ0FBUSxDQUM1QixDQUFDLFlBQVksR0FBYixFQUFrQixVQUFDLElBQUQ7QUFBQSxXQUFVLElBQVY7QUFBQSxDQUFsQixDQUQ0QixFQUU1QixDQUFDLFlBQVksTUFBYixFQUFxQixVQUFDLElBQUQ7QUFBQSxXQUFVLENBQUMsS0FBSyxRQUFoQjtBQUFBLENBQXJCLENBRjRCLEVBRzVCLENBQUMsWUFBWSxRQUFiLEVBQXVCLFVBQUMsSUFBRDtBQUFBLFdBQVUsS0FBSyxRQUFmO0FBQUEsQ0FBdkIsQ0FINEIsQ0FBUixDQUF4Qjs7SUFNTSxjOzs7Ozs7Ozs7QUFtRUY7Ozs7O21DQUtXO0FBQ1AsbUJBQU8sS0FBSyxXQUFaO0FBQ0g7Ozs7QUF6RUQ7Ozs7eUNBSXdCLEssRUFBTyxNLEVBQVE7QUFDbkMsbUJBQU8sTUFBTSxNQUFOLENBQWEsZ0JBQWdCLEdBQWhCLENBQW9CLE1BQXBCLENBQWIsQ0FBUDtBQUNIOztBQUVEOzs7Ozs7OzRDQUkyQjtBQUN2QixtQkFBTyxZQUFZLEdBQW5CO0FBQ0g7O0FBRUQ7Ozs7Ozs7K0NBSThCO0FBQzFCLG1CQUFPLFlBQVksTUFBbkI7QUFDSDs7QUFFRDs7Ozs7OztpREFJZ0M7QUFDNUIsbUJBQU8sWUFBWSxRQUFuQjtBQUNIOztBQUVEOzs7Ozs7Ozs7dUNBTXNCLEssRUFBTztBQUN6QixtQkFBTyxNQUFNLE1BQU4sQ0FBYSxnQkFBZ0IsR0FBaEIsQ0FBb0IsWUFBWSxNQUFoQyxDQUFiLENBQVA7QUFDSDs7QUFFRDs7Ozs7Ozs7O3lDQU13QixLLEVBQU87QUFDM0IsbUJBQU8sTUFBTSxNQUFOLENBQWEsZ0JBQWdCLEdBQWhCLENBQW9CLFlBQVksUUFBaEMsQ0FBYixDQUFQO0FBQ0g7O0FBRUQ7Ozs7Ozs7Ozs7Z0NBT2UsUyxFQUFXLEssRUFBTztBQUM3QixnQkFBSSxDQUFDLFNBQUwsRUFBZ0I7QUFDWjtBQUNIO0FBQ0Qsa0JBQU0sSUFBTixDQUFXLElBQUksSUFBSixDQUFTLFNBQVQsQ0FBWDtBQUNIOzs7Ozs7QUFZTCxXQUFXLFVBQVgsQ0FBc0IsZ0JBQXRCLEVBQXdDLENBQUMsY0FBRCxDQUF4Qzs7QUFFQTtBQUNBLFdBQVcsU0FBWCxDQUFxQixZQUFyQixFQUFtQyxZQUFNO0FBQ3JDLFdBQU8sVUFBQyxLQUFELEVBQVEsT0FBUixFQUFpQixLQUFqQixFQUEyQjtBQUM5QixnQkFBUSxJQUFSLENBQWEsa0JBQWIsRUFBaUMsVUFBVSxLQUFWLEVBQWlCO0FBQzlDLGdCQUFJLE1BQU0sS0FBTixLQUFnQixFQUFwQixFQUF3QjtBQUNwQjtBQUNIO0FBQ0Qsa0JBQU0sTUFBTixDQUFhLFlBQU07QUFDZixzQkFBTSxLQUFOLENBQVksTUFBTSxVQUFsQjtBQUNILGFBRkQ7QUFHQSxrQkFBTSxjQUFOO0FBQ0gsU0FSRDtBQVNILEtBVkQ7QUFXSCxDQVpEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImxldCB0b2RvTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3RvZG8nLCBbXSk7XHJcblxyXG4vKipcclxuICogTW9kZWxzIGEgdG8tZG8gbGlzdCBpdGVtLlxyXG4gKi9cclxuY2xhc3MgSXRlbSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSBUaXRsZSBmb3IgdGhlIHRvLWRvIGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlKSB7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuY29tcGxldGUgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqIEBlbnVtIHtzdHJpbmd9IE1hZ2ljIGZpbHRlciB2YWx1ZXMuICovXHJcbmNvbnN0IEZpbHRlclZhbHVlID0ge1xyXG4gICAgQUxMOiAnYWxsJyxcclxuICAgIEFDVElWRTogJ2FjdGl2ZScsXHJcbiAgICBDT01QTEVURTogJ2NvbXBsZXRlJyxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXBzIGZpbHRlciB0eXBlcyB0byBmaWx0ZXIgZnVuY3Rpb25zLlxyXG4gKiBAY29uc3Qge01hcDxGaWx0ZXJWYWx1ZSwgZnVuY3Rpb24oQXJyYXk8SXRlbT4pOiBBcnJheTxJdGVtPj59XHJcbiAqL1xyXG5jb25zdCBmaWx0ZXJGdW5jdGlvbnMgPSBuZXcgTWFwKFtcclxuICAgIFtGaWx0ZXJWYWx1ZS5BTEwsIChpdGVtKSA9PiB0cnVlXSxcclxuICAgIFtGaWx0ZXJWYWx1ZS5BQ1RJVkUsIChpdGVtKSA9PiAhaXRlbS5jb21wbGV0ZV0sXHJcbiAgICBbRmlsdGVyVmFsdWUuQ09NUExFVEUsIChpdGVtKSA9PiBpdGVtLmNvbXBsZXRlXSxcclxuXSk7XHJcblxyXG5jbGFzcyBUb2RvQ29udHJvbGxlciB7XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtBcnJheTxJdGVtPn0gSXRlbXMgdGhhdCBwYXNzIHRoZSBjdXJyZW50bHkgc2V0IGZpbHRlci5cclxuICAgICAqIEBleHBvcnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEZpbHRlcmVkSXRlbXMoaXRlbXMsIGZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZmlsdGVyRnVuY3Rpb25zLmdldChmaWx0ZXIpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbnVtIHZhbHVlIGZvciBmaWx0ZXJpbmcgdG8gc2hvdyBhbGwgaXRlbXMuXHJcbiAgICAgKiBAZXhwb3J0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRBbGxGaWx0ZXJWYWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gRmlsdGVyVmFsdWUuQUxMO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGVudW0gdmFsdWUgZm9yIGZpbHRlcmluZyB0byBzaG93IGFjdGl2ZSBpdGVtcy5cclxuICAgICAqIEBleHBvcnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEFjdGl2ZUZpbHRlclZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiBGaWx0ZXJWYWx1ZS5BQ1RJVkU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW51bSB2YWx1ZSBmb3IgZmlsdGVyaW5nIHRvIHNob3cgY29tcGxldGUgaXRlbXMuXHJcbiAgICAgKiBAZXhwb3J0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRDb21wbGV0ZUZpbHRlclZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiBGaWx0ZXJWYWx1ZS5DT01QTEVURTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGl0ZW1zIHRoYXQgYXJlIHN0aWxsIGluIGFuIGFjdGl2ZSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSB7QXJyYXk8SXRlbT59IGl0ZW1zIEl0ZW1zIGluIHRoZSBsaXN0IHRvIGZpbHRlci5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheTxJdGVtPn0gSXRlbXMgaW4gdGhlIGdpdmVuIGxpc3QgdGhhdCBhcmUgc3RpbGwgYWN0aXZlLlxyXG4gICAgICogQGV4cG9ydFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0QWN0aXZlSXRlbXMoaXRlbXMpIHtcclxuICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGZpbHRlckZ1bmN0aW9ucy5nZXQoRmlsdGVyVmFsdWUuQUNUSVZFKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBpdGVtcyB0aGF0IGFyZSBzdGlsbCBpbiBhIGNvbXBsZXRlIHN0YXRlLlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxJdGVtPn0gaXRlbXMgSXRlbXMgaW4gdGhlIGxpc3QgdG8gZmlsdGVyLlxyXG4gICAgICogQHJldHVybnMge0FycmF5PEl0ZW0+fSBJdGVtcyBpbiB0aGUgZ2l2ZW4gbGlzdCB0aGF0IGFyZSBjb21wbGV0ZS5cclxuICAgICAqIEBleHBvcnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldENvbXBsZXRlSXRlbXMoaXRlbXMpIHtcclxuICAgICAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGZpbHRlckZ1bmN0aW9ucy5nZXQoRmlsdGVyVmFsdWUuQ09NUExFVEUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgaXRlbSB3aXRoIHRoZSBnaXZlbiB0aXRsZSBhbmQgYWRkcyBpdCB0byB0aGUgbGlzdC5cclxuICAgICAqIERpc2NhcmRzIGVtcHR5IGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaXRlbVRvQWRkIFRpdGxlIHRvIHVzZSB3aGVuIGNyZWF0aW5nIHRoZSBuZXcgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7QXJyYXk8SXRlbT59IGl0ZW1zIExpc3Qgb2YgaXRlbXMgdG8gYWRkIHRoZSBuZXcgaXRlbSB0by5cclxuICAgICAqIEBleHBvcnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFkZEl0ZW0oaXRlbVRvQWRkLCBpdGVtcykge1xyXG4gICAgICAgIGlmICghaXRlbVRvQWRkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaXRlbXMucHVzaChuZXcgSXRlbShpdGVtVG9BZGQpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgY2xhc3Mgb2YgdGhpcyBpbnN0YW5jZSwgdG8gYmUgdXNlZCB0byBjYWxsIHN0YXRpYyBtZXRob2RzLlxyXG4gICAgICogQHJldHVybnMge1RvZG9Db250cm9sbGVyfSBUaGUgY2xhc3MgdGhpcyBpcyBhbiBpbnN0YW5jZSBvZi5cclxuICAgICAqIEBleHBvcnRcclxuICAgICAqL1xyXG4gICAgZ2V0Q2xhc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICB9XHJcbn1cclxuXHJcbnRvZG9Nb2R1bGUuY29udHJvbGxlcigndG9kb0NvbnRyb2xsZXInLCBbVG9kb0NvbnRyb2xsZXJdKTtcclxuXHJcbi8vIFF1aWNrIGVudGVyIGtleSBkaXJlY3RpdmUgcHVsbGVkIGZyb20gU3RhY2tPdmVyZmxvdyByZW5hbWVkIGFuZCByZWZvcm1hdHRlZFxyXG50b2RvTW9kdWxlLmRpcmVjdGl2ZSgnb25FbnRlcktleScsICgpID0+IHtcclxuICAgIHJldHVybiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSA9PiB7XHJcbiAgICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duIGtleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMub25FbnRlcktleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSk7Il19\n"]}